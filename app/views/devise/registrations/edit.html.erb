<div class="app-panel">
  <div class="large-form">
    <h3>Edit your account</h3>
    <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, :role => 'form', :class => 'in-app'}) do |f| %>
      <%= devise_error_messages! %>
      <div class="form-group">
        <span class="fa fa-envelope"></span>
        <%= f.email_field :email, :placeholder => 'Email' %>
        <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
          <div>
            <p class="in-app-form-dialog">
              Currently waiting confirmation for: <%= resource.unconfirmed_email %>
            </p>
          </div>
        <% end %>
      </div>
      <fieldset>
        <p class="in-app-form-dialog">Leave these fields blank if you don't want to change your password.</p>
        <div class="form-group">
          <span class="fa fa-envelope"></span>
          <%= f.password_field :password, :autocomplete => 'off', :placeholder => 'New password' %>
        </div>
        <div class="form-group">
          <span class="fa fa-repeat"></span>
          <%= f.password_field :password_confirmation, :placeholder => 'Confirm new password'  %>
        </div>
      </fieldset>
      <fieldset>
        <p class="in-app-form-dialog">You must enter your current password to make changes.</p>
        <div class="form-group">
          <span class="fa fa-lock"></span>
          <%= f.password_field :current_password, :placeholder => 'Current password' %>
        </div>
      </fieldset>
      <%= f.submit 'Update', :class => "button-primary button-large rounded-button button-stretch" %>
    <% end %>
  </div>
  <div class="large-form">
  <h3>Cancel Account</h3>
  <p class="in-app-form-dialog">Unhappy? Then leave! You're not a real account anyways.</p>
  <%= button_to "Cancel my account", registration_path(resource_name), :data => { :confirm => "Are you sure?" }, :method => :delete, :class => "button-danger button-large rounded-button button-stretch" %>
  </div>
</div>
